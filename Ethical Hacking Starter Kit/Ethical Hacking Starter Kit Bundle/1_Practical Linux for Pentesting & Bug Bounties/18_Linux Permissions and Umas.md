# 18_Linux Permissions and Umas

# Linux Permissions and Umask

## Understanding Linux Permissions

Linux is a multi-user operating system, and permissions define the access rights given to a user or a group of users. Permission can be set for three categories – read (r), write (w), and execute (e).

- **Read (`r`):** It grants the user the right to view the content of a file or a directory. For instance, if a user has read permission for a file, he or she can open the file and look at its content.
- **Write (`w`):** It allows the user to modify the content of a file or a directory. If a user has write permission for a file, he or she can modify its content, append new data, or delete the existing data.
- **Execute (`e`):** It provides the user with the right to execute a file or enter a directory. If a user has execute permission for a file, he or she can execute the file or run its code. Similarly, if a user has execute permission for a directory, he or she can enter the directory and access its content.

Permissions are set for three categories – user, group, and others. Each category has its own set of permissions.

## Understanding the Categories of Users

In Linux permissions, `u` stands for "user", `g` stands for "group", and `o` stands for "others". These letters are used to specify which category of users the permissions are being set for.

- `u` specifies the permissions for the owner of the file or directory.
- `g` specifies the permissions for the group that the file or directory belongs to.
- `o` specifies the permissions for all other users who are not the owner or a member of the group of the file or directory in question.

The permissions set for each category are represented by a string of three characters, where each character represents the read, write, or execute permission for that category. For example, `rwx` means that the user or group has read, write, and execute permissions for the file or directory, while `r-x` means that the user or group has read and execute permissions, but not write permissions.

### Note

- `useradd` is a command used to create a new user account in Linux.
- `passwd` is a command used to set or change the password for a user account.
- `su` is a command used to switch to another user account, usually the root user account, after providing the correct password.

# Adding/Removing Permissions

## `chmod` Command

Here are all the possible `chmod` commands to modify Linux permissions:

- `chmod u+rwx file`: **Add** read, write, and execute permissions for the **owner** of the file.
- `chmod g+rwx file`: **Add** read, write, and execute permissions for the **group** that the file belongs to.
- `chmod o+rwx file`: **Add** read, write, and execute permissions for all **other** users.
- `chmod a+rwx file`: **Add** read, write, and execute permissions for all **users** (equivalent to `u+rwx,g+rwx,o+rwx`).
- `chmod u-rwx file`: **Remove** read, write, and execute permissions for the **owner** of the file.
- `chmod g-rwx file`: **Remove** read, write, and execute permissions for the group that the file belongs to.
- `chmod o-rwx file`: **Remove** read, write, and execute permissions for **all other** **users**.
- `chmod a-rwx file`: **Remove** read, write, and execute permissions for **all users** (equivalent to `u-rwx,g-rwx,o-rwx`).
- `chmod u+x file`: **Add** execute permission for the owner of the file.
- `chmod g+x file`: **Add** execute permission for the group that the file belongs to.
- `chmod o+x file`: **Add** execute permission for all other users.
- `chmod a+x file`: **Add** execute permission for all users.
- `chmod u-x file`: **Remove** execute permission for the owner of the file.
- `chmod g-x file`: **Remove** execute permission for the group that the file belongs to.
- `chmod o-x file`: **Remove** execute permission for all other users.
- `chmod a-x file`: **Remove** execute permission for all users.
- `chmod u+r file`: **Add** read permission for the owner of the file.
- `chmod g+r file`: **Add** read permission for the group that the file belongs to.
- `chmod o+r file`: **Add** read permission for all other users.
- `chmod a+r file`: **Add** read permission for all users.
- `chmod u-r file`: **Remove** read permission for the owner of the file.
- `chmod g-r file`: **Remove** read permission for the group that the file belongs to.
- `chmod o-r file`: **Remove** read permission for all other users.
- `chmod a-r file`: **Remove** read permission for all users.
- `chmod u+w file`: **Add** write permission for the owner of the file.
- `chmod g+w file`: **Add** write permission for the group that the file belongs to.
- `chmod o+w file`: **Add** write permission for all other users.
- `chmod a+w file`: **Add** write permission for all users.
- `chmod u-w file`: **Remove** write permission for the owner of the file.
- `chmod g-w file`: **Remove** write permission for the group that the file belongs to.
- `chmod o-w file`: **Remove** write permission for all other users.
- `chmod a-w file`: **Remove** write permission for all users.

Linux permissions can be represented in octal notation, which uses the numbers 0-7 to represent permissions. Each permission is assigned a number based on its binary representation, where **read** is represented by **4**, **write** by **2**, and **execute** by **1**. These numbers are then added together to give the total permission number for that category. For example, `rwx` is represented by 7 (4+2+1), while `r-x` is represented by 5 (4+0+1), and `rw-` is represented by 6 (4+2+0).

## `chown` Command

`chown` command is used to change the ownership of a file or directory in Linux. The syntax is as follows:

```
chown [OPTIONS] USER[:GROUP] FILE...

```

The `USER` argument specifies the new owner of the file, and the optional `GROUP` argument specifies the new group for the file. The `FILE` argument specifies the file or directory whose ownership is to be changed. Some common options for the `chown` command include `-R` (recursively change ownership of all files and subdirectories) and `-v` (display a message for each file whose ownership is changed).

Here are the main combinations of the `chown` command:

- `chown user file`: Change the owner of a file to `user`.
- `chown user:group file`: Change the owner of a file to `user` and the group to `group`.
- `chown :group file`: Change the group of a file to `group`.
- `chown -R user:group directory`: Recursively change the owner of a directory and all its contents to `user` and the group to `group`.

## `chgpr` Command

The `chgrp` command changes the group ownership of a file or directory in Linux. The syntax is `chgrp [OPTIONS] GROUP FILE...`, where `GROUP` is the new group and `FILE` is the file or directory whose group ownership is to be changed. Common options include `-R` (recursively change group ownership) and `-v` (display a message for each file whose group ownership is changed).

Here are the main combinations of the `chgrp` command:

- `chgrp group file`: Change the group of a file to `group`.
- `chgrp -R group directory`: Recursively change the group of a directory and all its contents to `group`.