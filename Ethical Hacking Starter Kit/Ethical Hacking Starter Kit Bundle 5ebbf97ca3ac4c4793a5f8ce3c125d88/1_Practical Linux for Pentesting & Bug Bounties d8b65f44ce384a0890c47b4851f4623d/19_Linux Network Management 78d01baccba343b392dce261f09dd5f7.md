# 19_Linux Network Management

## `ifconfig` Command

`ifconfig` manages network interfaces on Linux systems. It enables/disables interfaces, sets IP addresses and views network stats. It is versatile and useful for managing network interfaces.

Combinations of `ifconfig` command:

- `ifconfig`: View current IP configuration.
- `ifconfig <interface> up`: Enable the specified interface.
- `ifconfig <interface> down`: Disable the specified interface.
- `ifconfig <interface> <ip_address>`: Set the IP address of the specified interface.
- `ifconfig -a`: View all network interfaces.

Example: To view the IP addresses of all network interfaces, use the `ifconfig -a` command.

## `ip` / `ip add` Commands

Use the `ip` command to manage network interfaces on Linux systems. It is a more modern and powerful tool than `ifconfig` and can be used to configure interfaces, routes, and tunnels.

Use the `ip addr` command to display and manage network interface addresses on Linux systems. It can be used to view current IP addresses, add new IP addresses, and delete existing IP addresses.

Here are some possible combinations of the `ip addr add` command:

- `ip addr add <ip_address>/<netmask> dev <interface>`: Adds a new IP address to the specified interface.
- `ip addr add <ip_address>/<netmask> broadcast <broadcast_address> dev <interface>`: Adds a new IP address and broadcast address to the specified interface.
- `ip addr add <ip_address>/<netmask> label <label_name> dev <interface>`: Adds a new IP address to the specified interface with a custom label name.
- `ip addr add <ip_address>/<netmask> peer <peer_address> dev <interface>`: Adds a new IP address and peer address to the specified interface.

For example, to view the IP addresses of all network interfaces, you can use the `ip addr show` command. This will display a list of all network interfaces and their associated IP addresses. To add a new IP address to an interface, you can use the `ip addr add` command followed by the IP address and netmask. For example, `ip addr add 192.168.1.2/24 dev eth0` will add the IP address 192.168.1.2 with a netmask of 255.255.255.0 to the `eth0` interface.

## `ping` Command

`ping` is a command that tests network connectivity by sending ICMP echo request packets to a target host and waiting for ICMP echo reply packets in response. To use the `ping` command, type `ping <host>` in the terminal, where `<host>` is the IP address or hostname of the target host.

Here are some possible `ping` command combinations:

- `ping <host>`: Sends ICMP echo requests to the specified host and waits for ICMP echo replies.
- `ping -c <count> <host>`: Sends a specified number of ICMP echo requests to the specified host and reports the number of packets received.
- `ping -s <size> <host>`: Sends ICMP echo requests with a specified packet size to the specified host.
- `ping -i <interval> <host>`: Sends ICMP echo requests at a specified interval to the specified host.
- `ping -t <ttl> <host>`: Sets the time-to-live (TTL) value for the ICMP echo requests sent to the specified host.
- `ping -w <timeout> <host>`: Sets the timeout value for waiting for ICMP echo replies from the specified host.
- `ping -A <host>`: Sends ICMP echo requests to the specified host and reports the autonomous system number of the responding router.

To test the connection to Google's DNS server (8.8.8.8), use the `ping` command in the terminal. The output will show the number of packets transmitted and received, the packet loss, and the response time. Here is an example:

```
$ ping 8.8.8.8
PING 8.8.8.8 (8.8.8.8) 56(84) bytes of data.
64 bytes from 8.8.8.8: icmp_seq=1 ttl=56 time=9.90 ms
...

```

This is a line of output from the `ping` command. It indicates that a packet of size 64 bytes was sent to the IP address 8.8.8.8, and a response was received. `icmp_seq=1` indicates that this is the first packet in the sequence. `ttl=56` indicates the time-to-live value for the packet. `time=9.90 ms` indicates the round-trip time for the packet to travel from the sender to the destination and back, in milliseconds.

## `whois` Command

Use the `whois` command to retrieve information about a domain name or IP address, including the owner and contact information. Type `whois <domain_or_IP_address>` in the terminal.

- Owner and contact information
- Registrar
- Registration date
- Expiration date
- Name servers associated with the domain name
- Network provider and assignment history associated with IP addresses

## `dig` Command

`dig` is a command to query DNS servers for information about domain names. Use `dig <domain_name>` to retrieve information about IP addresses associated with domain names and other DNS records. 

`dig` is a command to query DNS servers for information about domain names. It can be used to retrieve information about IP addresses associated with domain names and other DNS records. Some of the information that `dig` provides includes:

- IP addresses associated with a domain name
- Nameservers associated with a domain name
- TTL (time-to-live) values for DNS records
- DNS record types (A, MX, CNAME, etc.)
- Response codes from DNS servers (NOERROR, NXDOMAIN, etc.)

Common options for the `dig` command include:

- `+short` for only IP addresses
- `+trace` for the path taken to the DNS server
- `+noall` to show only the requested record type
- `+answer` for only the answer section

To retrieve only the MX record for a domain name using `dig` and display only the IP addresses, you can use the following command:

```
dig +short MX <domain_name>

```

For example, to retrieve the MX record for [google.com](http://google.com/) and display only the IP addresses, you can use the following command:

```
dig +short MX google.com

```

The output will display a list of IP addresses associated with the MX record for the domain name.

## `host` Command

The `host` command is a tool for querying DNS servers for information about domain names. Use `host <domain_name>` to retrieve information about IP addresses associated with domain names and other DNS records.

Some of the combinations of the `host` command include:

- `host -a <domain_name>`: Displays all available information about the domain name, including all available DNS records.
- `host -t <record_type> <domain_name>`: Displays information about the specified DNS record type for the domain name. For example, `host -t MX google.com` will display the MX record for the domain name.
- `host -v <domain_name>`: Displays verbose output, including the name of the DNS server that provided the response.
- `host -W <timeout> <domain_name>`: Sets the timeout value for waiting for a response from the DNS server.

## `nslookup` Command

The `nslookup` command is a tool for querying DNS servers for information about domain names. Use `nslookup <domain_name>` to retrieve information about IP addresses associated with domain names and other DNS records.

Some of the possible combinations of the `nslookup` command include:

- `nslookup -query=<record_type> <domain_name>`: Displays information about the specified DNS record type for the domain name. For example, `nslookup -query=MX google.com` will display the MX record for the domain name.
- `nslookup -debug <domain_name>`: Displays verbose output, including the name of the DNS server that provided the response and any error messages encountered.
- `nslookup -timeout=<timeout> <domain_name>`: Sets the timeout value for waiting for a response from the DNS server.
- `nslookup -port=<port_number> <domain_name>`: Sets the port number to use for the DNS query.

## `hostname` Command

The `hostname` command is a tool for displaying the name of the current host or setting a new hostname. Here are some possible `hostname` command combinations:

- `hostname`: Displays the current hostname.
- `hostname <new_hostname>`: Sets a new hostname for the system.
- `hostname -f`: Displays the fully qualified domain name for the system.
- `hostname -i`: Displays the IP address of the system.
- `hostname -s`: Displays the short hostname of the system.

For example, to display the fully qualified domain name of the system, you can use the `hostname -f` command. This will display the complete domain name of the system, including the hostname and the domain name. To set a new hostname for the system, you can use the `hostname` command followed by the new hostname. For example, `hostname mynewhostname` will set the hostname of the system to `mynewhostname`.

## `wget` Command

The `wget` command is a tool for downloading files from the internet. It is often used to download large files, entire websites, or other content from the web. To use the `wget` command, type `wget <URL>` in the terminal, where `<URL>` is the URL of the file or website to download.

Here are some possible combinations of the `wget` command:

- `wget <URL>`: Downloads the file or website at the specified URL.
- `wget -r <URL>`: Downloads the entire website at the specified URL and all linked pages.
- `wget -c <URL>`: Resumes a previous download of the file at the specified URL, if it was interrupted or incomplete.
- `wget -O <filename> <URL>`: Downloads the file at the specified URL and saves it with the specified filename.
- `wget -q <URL>`: Downloads the file or website at the specified URL quietly, without displaying any output.

For example, to download a file from a website, you can use the `wget` command followed by the URL of the file. For example, `wget <http://example.com/file.zip`> will download the file `file.zip` from the website `example.com`. To download an entire website, you can use the `wget -r` command followed by the URL of the website. For example, `wget -r <http://example.com`> will download the entire website at `example.com` and all linked pages.

Keep in mind that downloading copyrighted material without permission is illegal.

## `netstat` Command

`netstat` is a command-line tool used for displaying network connections, routing tables, and network interface statistics. It is available on most Unix-based systems, including Linux and macOS.

Here are some common `netstat` command combinations:

- `netstat -a`: Displays all active connections and listening ports.
- `netstat -r`: Displays the kernel routing table.
- `netstat -i`: Displays statistics for all network interfaces.
- `netstat -s`: Displays statistics for all protocols.
- `netstat -p`: Displays the process ID (PID) and name for each active connection.
- `netstat -n`: Displays IP addresses instead of host names.
- `netstat -t`: Displays TCP connections only.
- `netstat -u`: Displays UDP connections only.
- `netstat -l`: Displays only listening ports.

For example, to display all active TCP connections, you can use the `netstat -at` command. To display all active UDP connections, you can use the `netstat -au` command. To display the process ID and name for each active connection, you can use the `netstat -ap` command.

Note that some versions of `netstat` may require root privileges to display certain information.

## `iwconfig` Command

The `iwconfig` command is a tool used to configure wireless network interfaces on Linux systems. Here are some possible combinations of the `iwconfig` command:

- `iwconfig`: Displays the current wireless configuration.
- `iwconfig <interface> mode <mode>`: Sets the mode of the specified wireless interface. Valid modes include "Ad-Hoc", "Managed", "Master", and "Repeater".
- `iwconfig <interface> essid <ESSID>`: Sets the ESSID (Extended Service Set Identifier) of the specified wireless interface.
- `iwconfig <interface> channel <channel_number>`: Sets the channel number for the specified wireless interface.
- `iwconfig <interface> key <WEP_key>`: Sets the WEP (Wired Equivalent Privacy) key for the specified wireless interface.
- `iwconfig <interface> key off`: Disables WEP encryption for the specified wireless interface.
- `iwconfig <interface> txpower <power_level>`: Sets the transmit power level for the specified wireless interface.

For example, to display the current wireless configuration for all interfaces, you can use the `iwconfig` command. To set the ESSID of a wireless interface to "myssid", you can use the `iwconfig <interface> essid myssid` command. To disable WEP encryption for a wireless interface, you can use the `iwconfig <interface> key off` command.

## Spoofing MAC Address

To spoof a MAC address on a Linux system, you have several options. One option is to use the `ifconfig` command to change the MAC address of a network interface. Here are the steps:

1. Disable the network interface with the `ifconfig <interface> down` command.
2. Change the MAC address of the network interface with the `ifconfig <interface> hw ether <new_mac_address>` command. Replace `<new_mac_address>` with the new MAC address you want to use, in the format `XX:XX:XX:XX:XX:XX`.
3. Enable the network interface with the `ifconfig <interface> up` command.

Another option is to use the `macchanger` command. Here are the steps:

1. Install `macchanger` with the command `sudo apt-get install macchanger`.
2. Disable the network interface with the `ifconfig <interface> down` command.
3. Use the `macchanger -r <interface>` command to generate a random MAC address for the network interface. Replace `<interface>` with the name of the interface you want to change.
4. Enable the network interface with the `ifconfig <interface> up` command.

Note that changing MAC addresses for malicious purposes is illegal in many jurisdictions.